import{_ as l,i as c,c as t,b as r,t as h,d as a,F as u,g as p,o}from"./index-C955rGbu.js";const v={name:"WatchProvider",props:{mediaId:{type:[Number,String],required:!0},mediaType:{type:String,required:!0,validator:e=>["movie","tv"].includes(e)}},data(){return{providers:null,isLoading:!0,error:null}},computed:{isInTheaters(){var e;return this.providers?((e=this.providers.theatrical)==null?void 0:e.length)>0:!1},streamingProviders(){return this.providers?this.providers.flatrate||[]:[]}},methods:{async fetchProviders(){this.isLoading=!0,this.error=null;try{const e=await c(this.mediaId,this.mediaType);this.providers=e}catch(e){console.error("Error fetching watch providers:",e),this.error="Failed to load availability information"}finally{this.isLoading=!1}}},watch:{mediaId:{immediate:!0,handler(){this.fetchProviders()}}}},k={class:"watch-provider"},m={key:0,class:"loading"},g={key:1,class:"error"},_={key:2,class:"providers"},w={key:0,class:"theater-badge"},f={key:1,class:"streaming-providers"},y={class:"provider-grid"},L=["src","alt","title"],C={key:2,class:"not-available"};function b(e,s,x,P,n,d){return o(),t("div",k,[n.isLoading?(o(),t("div",m,s[0]||(s[0]=[r("div",{class:"skeleton-loader"},null,-1)]))):n.error?(o(),t("div",g,h(n.error),1)):(o(),t("div",_,[d.isInTheaters?(o(),t("div",w,s[1]||(s[1]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M2 17L12 22L22 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M2 12L12 17L22 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),a(" Only in Theaters ")]))):d.streamingProviders.length?(o(),t("div",f,[s[2]||(s[2]=r("h3",null,"Available on:",-1)),r("div",y,[(o(!0),t(u,null,p(d.streamingProviders,i=>(o(),t("div",{key:i.provider_id,class:"provider-item"},[r("img",{src:`https://image.tmdb.org/t/p/w92${i.logo_path}`,alt:i.provider_name,title:i.provider_name},null,8,L)]))),128))])])):(o(),t("div",C,s[3]||(s[3]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M15 9L9 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M9 9L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),a(" Not available for streaming ")])))]))])}const I=l(v,[["render",b],["__scopeId","data-v-470d48ef"]]);export{I as W};
