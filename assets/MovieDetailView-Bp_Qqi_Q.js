import{_,c as a,a as d,b as e,t as i,d as v,e as h,r as g,n as u,f as y,o as n}from"./index-C955rGbu.js";import{W as f}from"./WatchProvider-qSE-thdA.js";const w={name:"MovieDetailView",components:{WatchProvider:f},data(){return{movie:null,loading:!0,error:null}},methods:{async fetchMovieDetails(){var r;try{const t=this.$route.params.id,s=await y(t);this.movie={...s,poster:s.poster_path?`https://image.tmdb.org/t/p/w500${s.poster_path}`:"",backdrop:s.backdrop_path?`https://image.tmdb.org/t/p/original${s.backdrop_path}`:"",year:new Date(s.release_date).getFullYear(),genres:((r=s.genres)==null?void 0:r.map(l=>l.name))||[]}}catch(t){console.error("Error fetching movie details:",t),this.error="Failed to load movie details"}finally{this.loading=!1}},watchTrailer(){if(this.movie){const r=`${this.movie.title} ${this.movie.year} official trailer`,t=encodeURIComponent(r);window.open(`https://www.youtube.com/results?search_query=${t}`,"_blank")}}},created(){this.fetchMovieDetails()}},b={key:0,class:"movie-detail"},k={class:"backdrop-overlay"},D={class:"content"},x={class:"poster"},V=["src","alt"],M={class:"info"},C={class:"meta"},T={class:"year"},W={key:0,class:"rating"},B={class:"genres"},I={class:"overview"},N={class:"actions"},F={key:1,class:"loading"},L={key:2,class:"error"};function P(r,t,s,l,o,c){const m=g("WatchProvider");return o.movie?(n(),a("div",b,[e("div",{class:"backdrop",style:u({backgroundImage:`url(${o.movie.backdrop})`})},[e("div",k,[e("div",D,[e("div",x,[e("img",{src:o.movie.poster,alt:o.movie.title},null,8,V)]),e("div",M,[e("h1",null,i(o.movie.title),1),e("div",C,[e("span",T,i(o.movie.year),1),o.movie.vote_average?(n(),a("span",W,[t[1]||(t[1]=e("span",{class:"star"},"â˜…",-1)),v(" "+i(o.movie.vote_average.toFixed(1)),1)])):d("",!0),e("span",B,i(o.movie.genres.join(", ")),1)]),e("p",I,i(o.movie.overview),1),e("div",N,[e("button",{class:"btn-primary",onClick:t[0]||(t[0]=(...p)=>c.watchTrailer&&c.watchTrailer(...p))},t[2]||(t[2]=[e("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 5.14V19.14L19 12.14L8 5.14Z",fill:"currentColor"})],-1),v(" Watch Trailer ")])),h(m,{"media-id":o.movie.id,"media-type":"movie"},null,8,["media-id"])])])])])],4)])):o.loading?(n(),a("div",F," Loading... ")):o.error?(n(),a("div",L,i(o.error),1)):d("",!0)}const S=_(w,[["render",P],["__scopeId","data-v-3bd09da0"]]);export{S as default};
